import{a as i,b as e,h as f,t as u,i as c,E as t,G as l,j as n,d as b,f as g,g as w,o as a}from"./vendor-BJuH5pbf.js";import{_ as v,a as _}from"./index-BhNpcME0.js";const h={data(){return{form:{username:"",email:"",password:"",confirmPassword:"",fullName:""},loading:!1,error:null}},methods:{register(){if(this.form.password!==this.form.confirmPassword){this.error="两次输入的密码不一致";return}this.loading=!0,this.error=null;const m={username:this.form.username,email:this.form.email,password:this.form.password,fullName:this.form.fullName};this.$store.dispatch("register",m).then(()=>{this.$router.push("/login")}).catch(s=>{s.response&&s.response.data?this.error=s.response.data.message||"注册失败，请检查您的信息":this.error="服务器错误，请稍后再试"}).finally(()=>{this.loading=!1})}}},y={class:"register-container"},N={class:"row justify-content-center"},x={class:"col-md-6 col-lg-5"},V={class:"card shadow-sm"},k={class:"card-body p-5"},P={key:0,class:"alert alert-danger",role:"alert"},U={class:"mb-3"},q={class:"mb-3"},B={class:"mb-3"},C={class:"mb-3"},D={class:"mb-3"},j={class:"d-grid gap-2 mt-4"},E=["disabled"],K={key:0,class:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"},M={class:"mt-4 text-center"};function S(m,s,T,G,o,d){const p=w("router-link");return a(),i("div",y,[e("div",N,[e("div",x,[e("div",V,[e("div",k,[s[13]||(s[13]=e("div",{class:"text-center mb-4"},[e("img",{src:_,alt:"NoteKeeper Logo",style:{width:"60px"},class:"mb-3"}),e("h2",{class:"mb-1"},"创建账户"),e("p",{class:"text-muted"},"加入NoteKeeper，开始管理您的便签")],-1)),o.error?(a(),i("div",P,u(o.error),1)):f("",!0),e("form",{onSubmit:s[5]||(s[5]=c((...r)=>d.register&&d.register(...r),["prevent"]))},[e("div",U,[s[6]||(s[6]=e("label",{for:"username",class:"form-label"},"用户名",-1)),t(e("input",{type:"text",class:"form-control",id:"username","onUpdate:modelValue":s[0]||(s[0]=r=>o.form.username=r),required:""},null,512),[[l,o.form.username]])]),e("div",q,[s[7]||(s[7]=e("label",{for:"email",class:"form-label"},"邮箱",-1)),t(e("input",{type:"email",class:"form-control",id:"email","onUpdate:modelValue":s[1]||(s[1]=r=>o.form.email=r),required:""},null,512),[[l,o.form.email]])]),e("div",B,[s[8]||(s[8]=e("label",{for:"fullName",class:"form-label"},"姓名（可选）",-1)),t(e("input",{type:"text",class:"form-control",id:"fullName","onUpdate:modelValue":s[2]||(s[2]=r=>o.form.fullName=r)},null,512),[[l,o.form.fullName]])]),e("div",C,[s[9]||(s[9]=e("label",{for:"password",class:"form-label"},"密码",-1)),t(e("input",{type:"password",class:"form-control",id:"password","onUpdate:modelValue":s[3]||(s[3]=r=>o.form.password=r),required:""},null,512),[[l,o.form.password]])]),e("div",D,[s[10]||(s[10]=e("label",{for:"confirmPassword",class:"form-label"},"确认密码",-1)),t(e("input",{type:"password",class:"form-control",id:"confirmPassword","onUpdate:modelValue":s[4]||(s[4]=r=>o.form.confirmPassword=r),required:""},null,512),[[l,o.form.confirmPassword]])]),e("div",j,[e("button",{type:"submit",class:"btn btn-primary",disabled:o.loading},[o.loading?(a(),i("span",K)):f("",!0),n(" "+u(o.loading?"注册中...":"注册账户"),1)],8,E)])],32),e("div",M,[e("p",null,[s[12]||(s[12]=n("已有账户? ")),b(p,{to:"/login"},{default:g(()=>s[11]||(s[11]=[n("登录")])),_:1})])])])])])])])}const R=v(h,[["render",S],["__scopeId","data-v-825146a6"]]);export{R as default};
